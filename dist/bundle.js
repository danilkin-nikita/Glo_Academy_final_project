(()=>{"use strict";var e,t,n,s,i,c,o,l,a,r,d,u,m,v,p,y,f,h,g,b,L,k;k=document.querySelector(".clubs-list>ul"),document.addEventListener("click",(function(e){var t;e.target.closest(".club-select")?"block"===(t=k).style.display?t.style.display="none":t.style.display="block":k.style.display="none"})),p=document.getElementById("free_visit_form"),y=document.querySelector(".open-popup"),f=document.getElementById("callback_form"),h=document.querySelector(".callback-btn"),g=document.querySelector(".fixed-gift>img"),b=document.getElementById("gift"),L=document.getElementById("thanks"),document.addEventListener("click",(function(e){var t=e.target,n=function(e,n){t===e&&(n.style.display="block"),(t.classList.contains("close_icon")||t.classList.contains("overlay")||t.classList.contains("close-btn"))&&(n.style.display="none")};n(y,p),n(h,f),g&&n(g,b),t===g&&(g.style.display="none"),(t.classList.contains("close_icon")||t.classList.contains("overlay")||t.classList.contains("close-btn"))&&(L.style.display="none")})),u=document.querySelector(".top-menu"),m=document.querySelector(".popup-menu"),(v=document.querySelector(".fixed-gift"))&&(v.style.display="none"),document.addEventListener("click",(function(e){var t=e.target;t.closest(".hidden-large>img")&&(m.style.display="flex"),(t.closest(".close-menu-btn>img")||t.closest(".scroll"))&&(m.style.display="none")})),document.addEventListener("scroll",(function(){pageYOffset>=200&&window.innerWidth<768?u.style.position="fixed":(pageYOffset<200||window.innerWidth>=768)&&(u.style.position="static"),v&&(pageYOffset>=3600?v.style.display="inline":pageYOffset<3600&&(v.style.display="none"),window.innerWidth<768?(v.querySelector("img").style.maxWidth="70%",v.style.right="55px"):(v.querySelector("img").style.maxWidth="100%",v.style.right="20px"))})),(d=document.getElementById("totop")).style.display="none",document.addEventListener("scroll",(function(){pageYOffset>=620?d.style.display="block":d.style.display="none"})),i=document.querySelectorAll(".time>input"),c=document.getElementById("card_leto_mozaika"),o=document.getElementById("card_leto_schelkovo"),l=document.querySelector(".promo-code"),a=document.getElementById("price-total"),r=function(){var e;c&&c.checked?e=[1990,9900,13900,19900]:o&&o.checked&&(e=[2990,14990,21990,24990]),i.forEach((function(t,n){t.value=e[n],t.checked&&(a.innerHTML=t.value)}))},document.addEventListener("input",(function(){r(),l&&"ТЕЛО2021"===l.value&&(a.innerHTML=100*Math.round(parseInt(.7*a.innerHTML,10)/100))})),r(),function(){var e=document.getElementById("thanks"),t=(document.querySelector('.personal-data>input[type="checkbox"]'),document.querySelector('button[type="submit"]'),function(e){e.style.border="3px solid red",setTimeout((function(){e.style.border="1px solid #b7b7b7"}),1500)});document.addEventListener("submit",(function(s){s.preventDefault();var i=s.target,c=i.querySelector('input[name="name"]'),o=i.querySelector('input[name="phone"]'),l=i.querySelector('.personal-data>input[type="checkbox"]'),a=i.querySelector(".personal-data>label"),r=!0;if(i.matches("form")){if(c&&(c.value.match(/^[а-яА-Я]{2,}$/)||(t(c),r=!1)),o.value.match(/^\+?[78]([-() ]*\d){10}$|^([-() ]*\d){7}$/)||(t(o),r=!1),l&&!1===l.checked&&(a.classList.add("error"),setTimeout((function(){a.classList.remove("error")}),1500),r=!1),!1===r)return;(i.matches("#form1")||i.matches("#form2"))&&(i.closest(".popup").style.display="none"),e.style.display="block",e.innerHTML='\n                          <div class="overlay">\n                          </div>\n                          <div class="form-wrapper">\n                              <div class="close-form">\n                                  <img src="images/close-icon.png" alt="close" class="close_icon">\n                              </div>\n                              <div class="form-content">\n                                  <h4>Заявка отправяется</h4>\n                                  <p><img src="images/preloader.gif" height="35px"></p>\n                                  <button class="btn close-btn" disabled ="true">OK</button>\n                              </div>\n                          </div>\n      ';var d=new FormData(i);i.querySelectorAll("input").forEach((function(e){e.style.border="1px solid #b7b7b7"})),i.reset(),n(d).then((function(t){if(200!==t.status)throw new Error("status network not 200");e.innerHTML='\n                           <div class="overlay">\n                          </div>\n                          <div class="form-wrapper">\n                              <div class="close-form">\n                                  <img src="images/close-icon.png" alt="close" class="close_icon">\n                              </div>\n                              <div class="form-content">\n                                  <h4>Спасибо!</h4>\n                                  <p>Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время.</p>\n                                  <button class="btn close-btn">OK</button>\n                              </div>\n                          </div>\n      ',setTimeout((function(){e.style.display="none"}),5e3)})).catch((function(t){e.innerHTML='\n                           <div class="overlay">\n                          </div>\n                          <div class="form-wrapper">\n                              <div class="close-form">\n                                  <img src="images/close-icon.png" alt="close" class="close_icon">\n                              </div>\n                              <div class="form-content">\n                                  <h4>Ошибка отправки :(</h4>\n                                  <p>Что-то пошло не так...</p>\n                                  <button class="btn close-btn">OK</button>\n                              </div>\n                          </div>\n      ',setTimeout((function(){e.style.display="none"}),5e3),console.error(t)}))}}));var n=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"multipart/aplication/json"},body:JSON.stringify(Object.fromEntries(e))})};document.addEventListener("change",(function(e){var t=e.target;t.matches('input[name="promo-code"]')&&("ТЕЛО2021"===t.value?t.style.border="3px solid green":t.style.border="1px solid #b7b7b7"),t.matches('input[name="name"]')&&(t.value.match(/^[а-яА-Я ]{2,}$/)?t.style.border="3px solid green":t.style.border="1px solid #b7b7b7"),t.matches('input[name="phone"]')&&(t.value.match(/^\+?[78]([-() ]*\d){10}$|^([-() ]*\d){7}$/)?t.style.border="3px solid green":t.style.border="1px solid #b7b7b7")})),document.addEventListener("input",(function(e){var t=e.target;t.matches('input[name="name"]')&&(t.value=t.value.replace(/[^а-яА-Я ]$/,"")),t.matches('input[name="phone"]')&&(t.value=t.value.replace(/[^+\-\)\(0-9 ]$/,"")),t.matches('input[name="promo-code"]')&&(t.value=t.value.toUpperCase())}))}(),function(){for(var e,t=document.querySelector(".gallery-slider"),n=t.querySelectorAll(".slide"),s=t.querySelector(".slider-dots"),i=0,c=0;c<n.length;c++){var o=document.createElement("li");o.className="dot",s.append(o)}var l=document.querySelectorAll(".dot");l[0].className="dot slick-active";var a=function(e,t,n){e[t].classList.remove(n)},r=function(e,t,n){e[t].classList.add(n)},d=function(){a(n,i,"gallery-active-slide"),a(l,i,"slick-active"),++i>=n.length&&(i=0),r(n,i,"gallery-active-slide"),r(l,i,"slick-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(d,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".slider-arrow, .dot")&&(a(n,i,"gallery-active-slide"),a(l,i,"slick-active"),t.matches(".next")?i++:t.matches(".prev")?i--:t.matches(".dot")&&l.forEach((function(e,n){e===t&&(i=n)})),i>=n.length?i=0:i<0&&(i=n.length-1),r(n,i,"gallery-active-slide"),r(l,i,"slick-active"))})),t.addEventListener("mouseover",(function(t){(t.target.matches(".slider-arrow")||t.target.matches(".dot"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&u()})),u()}(),function(){for(var e,t=document.querySelector(".main-slider"),n=t.querySelectorAll(".slide"),s=t.querySelector(".slider-dots"),i=0,c=0;c<n.length;c++){var o=document.createElement("li");o.className="dot",s.append(o)}var l=document.querySelectorAll(".dot");l[0].className="dot slick-active";var a=function(e,t,n){e[t].classList.remove(n)},r=function(e,t,n){e[t].classList.add(n)},d=function(){a(n,i,"active-main-slide"),a(l,i,"slick-active"),++i>=n.length&&(i=0),r(n,i,"active-main-slide"),r(l,i,"slick-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(d,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".slider-arrow, .dot")&&(a(n,i,"active-main-slide"),a(l,i,"slick-active"),t.matches(".next")?i++:t.matches(".prev")?i--:t.matches(".dot")&&l.forEach((function(e,n){e===t&&(i=n)})),i>=n.length?i=0:i<0&&(i=n.length-1),r(n,i,"active-main-slide"),r(l,i,"slick-active"))})),t.addEventListener("mouseover",(function(t){(t.target.matches(".slider-arrow")||t.target.matches(".dot"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&u()})),u()}(),e=document.querySelector(".services-slider").querySelectorAll(".slide"),t=0,n=5,s=function(){window.innerWidth>=1141?n=5:window.innerWidth<1141&&window.innerWidth>=767?n=3:window.innerWidth<767&&window.innerWidth>=500?n=2:window.innerWidth<479&&(n=1);for(var t=0;t<e.length;t++)e[t].classList.remove("active-services-slide");for(var s=0;s<n;s++)e[s].classList.add("active-services-slide")},document.addEventListener("click",(function(s){var i,c,o,l=s.target;l.closest(".next")&&t<e.length-n&&(o="active-services-slide",(i=e)[(c=t)+n].classList.add(o),i[c].classList.remove(o),t++),l.matches(".prev")&&(t>0&&t--,function(e,t,s){e[t].classList.add(s),e[t+n].classList.remove(s)}(e,t,"active-services-slide"))})),window.addEventListener("resize",(function(){s()})),function(){for(var t=0;t<n;t++)e[t].classList.add("active-services-slide");s()}()})();